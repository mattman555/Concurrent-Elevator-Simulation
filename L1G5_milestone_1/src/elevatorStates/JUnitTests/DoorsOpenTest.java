package elevatorStates.JUnitTests;

import static org.junit.jupiter.api.Assertions.*;

import java.util.ArrayList;
import java.util.List;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import elevatorSystems.Elevator;
import elevatorSystems.FloorSubsystem;
import elevatorSystems.Request;
import elevatorSystems.Scheduler;
import elevatorSystems.elevatorStateMachine.DoorsOpen;

/**
 * @author Jay McCracken 101066860
 *
 */
public class DoorsOpenTest {

	private Elevator elevatorMethods;
	private Scheduler scheduler;
	private FloorSubsystem fssystem;
	private DoorsOpen state;
	private Request request; 
	private List<Request> requests;
	
	@org.junit.Before
	public void setUp() throws Exception {
		scheduler = new Scheduler();
		elevatorMethods = new Elevator(scheduler);
		scheduler.addElevator(elevatorMethods);
		fssystem = new FloorSubsystem(scheduler, 10);
		state = new DoorsOpen(elevatorMethods);
		
		request = new Request("00:00:05.000", 1, "Up", 5); 
		fssystem.addRequest(request);
		requests = new ArrayList<Request>();
	}

	@AfterEach
	void tearDown() throws Exception {
	}

	@org.junit.Test
	public void testGetLamps() {
		requests.add(request);
		scheduler.addRequests(requests);
		scheduler.getRequest(2);
		ArrayList<Integer> floor = new ArrayList<>();
		floor.add(5);
		assertEquals(floor, state.getLamps(), "The Lamp should be turning on 5");
	}

}
